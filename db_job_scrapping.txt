CREATE TABLE `d_company` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `label` varchar(150) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4


CREATE TABLE `d_website` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `label` varchar(150) DEFAULT NULL,
  `link` varchar(1000) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4


CREATE TABLE `d_city` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `city` varchar(150) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4


CREATE TABLE `d_contract_type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `contract_type` varchar(150) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4



CREATE TABLE `f_job_advertisements` (
  `nb_occurences` int(11) DEFAULT NULL,
  `published_date` date NOT NULL,
  `contract_type_id` int(11) NOT NULL,
  `position_id` int(11) NOT NULL,
  `website_id` int(11) NOT NULL,
  `city_id` int(11) NOT NULL,
  `company_id` int(11) NOT NULL,
  PRIMARY KEY (`city_id`,`company_id`,`contract_type_id`,`position_id`,`published_date`,`website_id`),
  KEY `fk_calendar_job` (`published_date`),
  KEY `fk_contract_type_job` (`contract_type_id`),
  KEY `fk_position_job` (`position_id`),
  KEY `fk_website_job` (`website_id`),
  KEY `fk_company_job` (`company_id`),
  CONSTRAINT `fk_calendar_job` FOREIGN KEY (`published_date`) REFERENCES `d_calendrier` (`date`),
  CONSTRAINT `fk_city_job` FOREIGN KEY (`city_id`) REFERENCES `d_city` (`id`),
  CONSTRAINT `fk_company_job` FOREIGN KEY (`company_id`) REFERENCES `d_company` (`id`),
  CONSTRAINT `fk_contract_type_job` FOREIGN KEY (`contract_type_id`) REFERENCES `d_contract_type` (`id`),
  CONSTRAINT `fk_position_job` FOREIGN KEY (`position_id`) REFERENCES `d_position` (`id`),
  CONSTRAINT `fk_website_job` FOREIGN KEY (`website_id`) REFERENCES `d_website` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4